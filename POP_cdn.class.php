<?php
//*****************************************************************************
//*****************************************************************************
/**
* Content Delivery Plugin
*
* @package		phpOpenPlugins
* @subpackage	CDN
* @author 		Christian J. Clark
* @copyright	Copyright (c) Christian J. Clark
* @license		http://www.gnu.org/licenses/gpl-2.0.txt
* @link			http://www.emonlade.net/phpopenplugins/
* @version 		Started: 8/25/2015, Last updated: 8/25/2015
**/
//*****************************************************************************
//*****************************************************************************

//*******************************************************************************
//*******************************************************************************
// POP CDN Object
//*******************************************************************************
//*******************************************************************************
class POP_cdn
{

	//*****************************************************************************
	//*****************************************************************************
	// Output Content Type Header
	//*****************************************************************************
	//*****************************************************************************
	public static function output_content_type($ext)
	{
		if (empty($ext) { return false; }

		switch ($ext) {

			//======================================================
			// Javascript
			//======================================================
			case 'js':
				header('Content-type: text/javascript');
				break;

			//======================================================
			// CSS
			//======================================================
			case 'css':
				header('Content-type: text/css');
				break;

			//======================================================
			// Images
			//======================================================
			case 'jpg':
			case 'jpeg':
			case 'gif':
			case 'png':
				header("Content-type: image/{$ext}");
				break;

			//======================================================
			// Scalable Vector Graphics (SVG)
			//======================================================
			case 'svg':
			case 'svgz':
				header("Content-type: image/svg+xml");
				if ($extension == 'svgz') {
					header("Content-Encoding: gzip");	
				}
				break;

			//======================================================
			// XML
			//======================================================
			case 'xml':
			case 'xsl':
				header('Content-type: text/xml');
				break;

			//======================================================
			// HTML / XHTML
			//======================================================
			case 'html':
			case 'xhtml':
				header('Content-type: text/html');
				break;

			//======================================================
			// Text
			//======================================================
			case 'txt':
			case 'json':
				header('Content-type: text/plain');
				break;

			//======================================================
			// Default: File Not Found (i.e. 404)
			//======================================================
			default:
				return false;
				break;
		}

		return true;
	}

}

